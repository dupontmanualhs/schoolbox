@(events: List[models.conferences.Event], sessions: List[models.conferences.Session], slots: List[models.conferences.Slot], priority: Option[models.conferences.PriorityScheduling], currentTime: org.joda.time.LocalDateTime)(implicit req: controllers.users.VisitRequest[_])

@import util.Helpers._

@views.html.main("Conferences") {
	<table class="table table-striped">
		<thead><th>Name</th></thead>
		@for(event <- events if (event.isActive || priority.isDefined)) {
			<tr>
			<td>@event.name</td>
			</tr>
			@for(session <- sessions if session.event == event) {
				if(event.isActive || currentTime.compareTo(session.priority) >= 0){
					<tr>
					<td><a href="@routes.Conferences.classList(session.id)">@toAmericanString(session.date)</a></td>
					<td>@toAmericanString(session.cutoff)</td>
					<td>@{toAmericanString(session.startTime) + " - " + toAmericanString(session.endTime)}</td>
					</tr>
				}
			}
		}
	</table>
	<h3>All scheduled conferences</h3>
		<table>
	  		<thead><th>Date</th><th>Teacher</th><th>Time</th><th>Phone</th><th>Alternate Phone</th><th>Comments</th></thead>
		  	@for(slot <- slots)	{
		  		<tr>
		  			<td>@toAmericanString(slot.session.date)</td>
		  			<td>@slot.teacher.user.shortName</td>
		  			<td>@toAmericanString(slot.startTime) - @toAmericanString(slot.endTime)</td>
		  			<td>@slot.phone.getOrElse("")</td>
		  			<td>@slot.alternatePhone.getOrElse("")</td> 
		  			<td>@slot.comment.getOrElse("")</td>
		  		</tr>
	  		}
	  	</table>
}