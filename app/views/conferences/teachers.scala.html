@(teacher: models.courses.Teacher, events: List[models.conferences.Event], sessions: List[models.conferences.Session], sections: List[models.courses.Section], priorities: List[models.conferences.PriorityScheduling])(implicit req: controllers.users.VisitRequest[_])

@import util.Helpers._

@views.html.main("Teacher Conferences") {
	<div class="page-header">
	<table class="table table-striped">
		<thead><th>Name</th><th>Activated?</th></thead>
		@for(event <- events) {
			<tr>
			<td>@event.name</td>
			<td>@{if (event.isActive) "Yes" else "No"}</td>
			</tr>
			@for(session <- sessions if session.event == event) {
			<tr>
			<td><a href="@routes.Conferences.teacherSession(session.id)">@toAmericanString(session.date)</a></td>
			<td>@toAmericanString(session.cutoff)</td>
			<td>@{toAmericanString(session.startTime) + " - " + toAmericanString(session.endTime)}</td>
			</tr>
			}
		}
	</table>
	<h3>Student List</h3>
	<table class="table table-striped">
		@for(section <- sections){
			<tr>@section.course.name</tr>
			<tr><table>
				<thead><th>Name</th><th>Grade</th><th>E-mail</th></thead>
				@for(student <- section.students()) {
					<tr>
						<td>@student.user.displayName</td>
						<td>@student.grade</td>
						<td>@student.user.email</td>
						<td>
							@if(priorities.exists( p => p.student == student)) {
								<a href="@routes.Conferences.disablePriority(student.id)">Disable Priority Scheduling</a>
							} else {
								<a href="@routes.Conferences.enablePriority(student.id)">Enable Priority Scheduling</a>
							}
						</td>
					</tr>
				}
			</table></tr>
		}
	</table>
}